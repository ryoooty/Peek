# Peek
–±–æ—Ç –∞–Ω–∞–ª–æ–≥ C.ai –Ω–æ –≤ —Ç–µ–ª–µ–≥—Ä–∞–º–º–µ, —Å –±–æ–ª—å—à–∏–º —Å–ø–∏—Å–∫–æ–º —Ñ—É–Ω–∫—Ü–∏–π –∏ –ª—É—á—à–∏–º–∏ –Ω–µ–π—Ä–æ–Ω–∫–∞–º–∏ –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º

–¢—Ä–µ–±—É–µ—Ç—Å—è Python 3.10 –∏–ª–∏ –Ω–æ–≤–µ–µ. –ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–≤–∫–ª—é—á–∞—è `aiohttp`) –∏ –∑–∞–¥–∞–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `DEEPSEEK_API_KEY`.

## –¢–æ–∫–µ–Ω—ã –∏ –±–∏–ª–ª–∏–Ω–≥

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π —Ç–∞—Ä–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç—Å—è –≤ —É—Å–ª–æ–≤–Ω—ã—Ö –µ–¥–∏–Ω–∏—Ü–∞—Ö "toki". –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ
—Å–ø–∏—Å—ã–≤–∞–µ–º—ã—Ö –µ–¥–∏–Ω–∏—Ü –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –ø–æ —Ñ–æ—Ä–º—É–ª–µ:

```
toki = ceil((in * input_per_1k + out * output_per_1k + cache * cache_per_1k) / 1000)
```

–¢–µ–∫—É—â–∏–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –º–æ–¥–µ–ª–µ–π:

| –ú–æ–¥–µ–ª—å             | input_per_1k | output_per_1k | cache_per_1k |
|--------------------|--------------|---------------|--------------|
| `deepseek-chat`    | 14           | 110           | 7            |
| `deepseek-reasoner`| 55           | 219           | 14           |

–§—É–Ω–∫—Ü–∏—è `usage_to_toki(model, in_tokens, out_tokens)` –∏–∑ –º–æ–¥—É–ª—è
`app.billing.tokens` –ø–æ–º–æ–≥–∞–µ—Ç –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ billable –µ–¥–∏–Ω–∏—Ü—ã.

## –†—É—á–Ω–æ–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ

–í–º–µ—Å—Ç–æ –≤–µ–±—Ö—É–∫–æ–≤ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Ä—É—á–Ω–æ–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—á—ë—Ç–∞. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
—Å–æ–∑–¥–∞—ë—Ç –∑–∞—è–≤–∫—É `/confirm <—Å—É–º–º–∞>` –∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç PDF —Å –∫–≤–∏—Ç–∞–Ω—Ü–∏–µ–π. –ü–æ—Å–ª–µ
–º–æ–¥–µ—Ä–∞—Ü–∏–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –æ–¥–æ–±—Ä—è–µ—Ç –∏–ª–∏ –æ—Ç–∫–ª–æ–Ω—è–µ—Ç –∑–∞—è–≤–∫—É. –ü–æ–∫–∞ –∑–∞—è–≤–∫–∞ –≤
—Å—Ç–∞—Ç—É—Å–µ ¬´pending¬ª –Ω–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—Ç–∫–ª–æ–Ω—è—é—Ç—Å—è.

–ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –æ–ø—Ü–∏–π –æ–ø–ª–∞—Ç—ã (`pay_options`) –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö:

```
pay_options = [
    {"tokens": 1000, "price_rub": 150, "emoji": "üí∞"},
    {"tokens": 5000, "price_rub": 600, "emoji": "üíé"},
]
```

### –†–µ–∫–≤–∏–∑–∏—Ç—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

–í –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å —Ä–µ–∫–≤–∏–∑–∏—Ç—ã –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞ –∏ –∫–æ–Ω—Ç–∞–∫—Ç —Å–ª—É–∂–±—ã
–ø–æ–¥–¥–µ—Ä–∂–∫–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä:

```
PAY_REQUISITES="4276....1234"
SUPPORT_CONTACT="@peek_support"
```

–î–ª—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ HTTP‚Äë—Å–µ—Ä–≤–µ—Ä–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å `python main.py`.

